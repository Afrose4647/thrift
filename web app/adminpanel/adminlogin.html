<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login - Madz Thriftz</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA9sSG63b79wYqnUfPFXqBE-JHsEtXe9nk",
            authDomain: "madzthriftz-a0b1e.firebaseapp.com",
            projectId: "madzthriftz-a0b1e",
            storageBucket: "madzthriftz-a0b1e.appspot.com",
            messagingSenderId: "820149104704",
            appId: "1:820149104704:web:fdeea00b54eda2e3682fa5"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        window.login = async function () {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            if (!email || !password) {
                Swal.fire({
                    title: "Please enter email and password",
                    icon: "error",
                    timer: 2000,
                    showConfirmButton: false
                });
                return;
            }

            try {
                await signInWithEmailAndPassword(auth, email, password);
                Swal.fire({
                    title: "Login Successful",
                    icon: "success",
                    timer: 2000,
                    showConfirmButton: false
                });
                setTimeout(() => {
                    window.location.href = "admin.html";
                }, 2000);
            } catch (err) {
                Swal.fire({
                    title: err.message,
                    icon: "error",
                    timer: 2000,
                    showConfirmButton: false
                });
            }
        }
    </script>
</head>
<body class="d-flex justify-content-center align-items-center vh-100 bg-light">
<div class="card p-4 shadow-lg" style="width: 400px;">
    <h2 class="text-center">Madz Thriftz Admin Login</h2>
    <input type="email" id="email" class="form-control my-3" placeholder="Email">
    <input type="password" id="password" class="form-control my-3" placeholder="Password">
    <button onclick="login()" class="btn btn-primary w-100">Login</button>
</div>
</body>
</html>
